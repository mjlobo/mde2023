<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.189">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>MDE 2023 - IDV TP5: Spatial data visualization with Kepler gl: answers</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">MDE 2023</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Home</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#exercise-1" id="toc-exercise-1" class="nav-link active" data-scroll-target="#exercise-1">Exercise 1</a>
  <ul class="collapse">
  <li><a href="#answers" id="toc-answers" class="nav-link" data-scroll-target="#answers">Answers</a></li>
  </ul></li>
  <li><a href="#exercise-2" id="toc-exercise-2" class="nav-link" data-scroll-target="#exercise-2">Exercise 2</a>
  <ul class="collapse">
  <li><a href="#answers-1" id="toc-answers-1" class="nav-link" data-scroll-target="#answers-1">Answers</a></li>
  </ul></li>
  <li><a href="#exercise-3" id="toc-exercise-3" class="nav-link" data-scroll-target="#exercise-3">Exercise 3</a>
  <ul class="collapse">
  <li><a href="#answers-2" id="toc-answers-2" class="nav-link" data-scroll-target="#answers-2">Answers</a></li>
  </ul></li>
  <li><a href="#exercise-6" id="toc-exercise-6" class="nav-link" data-scroll-target="#exercise-6">Exercise 6</a>
  <ul class="collapse">
  <li><a href="#answers-3" id="toc-answers-3" class="nav-link" data-scroll-target="#answers-3">Answers</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">IDV TP5: Spatial data visualization with Kepler gl: answers</h1>
</div>



<div class="quarto-title-meta">

    
    
  </div>
  

</header>

<section id="exercise-1" class="level2">
<h2 class="anchored" data-anchor-id="exercise-1">Exercise 1</h2>
<ol type="1">
<li>Choose the right table to represent the number of trains departing at a station, dowload it as a csv and import it to kepler.</li>
<li>Use the color intensity and their size to represent the number of departing trains at each station. Why is using the color interesting? What problem this might cause?</li>
</ol>
<section id="answers" class="level3">
<h3 class="anchored" data-anchor-id="answers">Answers</h3>
<ol type="1">
<li>The table we need is trainsByDepartureWithCoords</li>
<li>Using color enables to make the difference between the values clearer. However, there might be an interference when using color and size at the same time.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/departstailleintensite.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Departing trains</figcaption><p></p>
</figure>
</div>
</section>
</section>
<section id="exercise-2" class="level2">
<h2 class="anchored" data-anchor-id="exercise-2">Exercise 2</h2>
<ol type="1">
<li>Create a second layer to display the number of delayed trains at arrival instead (you will need to create a new table) of the number of trips.</li>
<li>First, display the number of delayed trains at arrival and departure in the same map view.</li>
<li>Then, display each field in one view of the double view.</li>
<li>Discuss the advantages and inconveniences of both representations.`</li>
</ol>
<section id="answers-1" class="level3">
<h3 class="anchored" data-anchor-id="answers-1">Answers</h3>
<ol start="2" type="1">
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/2variables1carte.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Two variables in one map</figcaption><p></p>
</figure>
</div></li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/carte%20double.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Double view</figcaption><p></p>
</figure>
</div></li>
<li><p>The comparison is easier with the superposed circles because they are in the same place but there is an oclussion problem so estimating the values might be more difficult.</p></li>
</ol>
</section>
</section>
<section id="exercise-3" class="level2">
<h2 class="anchored" data-anchor-id="exercise-3">Exercise 3</h2>
<ol type="1">
<li>Change the polygons color to represent the ratio. Verify that you are using the right color scale and mode. <em>Quantile</em> mode separates the data into intervals with the same quantity of items, <em>quantize</em> mode separates the data into equal intervals. You can use the third button to the rigth to activate the legend.</li>
<li>Use at the same time circles to represent the number of delayed trains at departure through the circle size. What problems appear when using these representations at the same time?</li>
<li>Keeping only the areas, use the polygon height to represent the number of delayed trains at departure. You can swith to a 3D view using ht second button in the right panel. To achieve this you have to add the number of delayed trains to the final JSON and download it and import it again. What pros and cons do you think this visualization has?</li>
<li>Use the filter tool (second icon in the left menu) to visualize only the departments that have a ratio bigger than 10%. To achieve this, add a filter to the ratio field and adjust the slider.</li>
</ol>
<section id="answers-2" class="level3">
<h3 class="anchored" data-anchor-id="answers-2">Answers</h3>
<ol type="1">
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/couleurratio.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Ratio in the areas</figcaption><p></p>
</figure>
</div></li>
<li><p><img src="images/cerclesaires.png" class="img-fluid" width="500" alt="Circles and areas"> The problem of using the circles and regions at the same time is oclussion.</p></li>
<li><p><img src="images/airesethauteurs.png" class="img-fluid" width="500" alt="Areas and height"> This representation has the advantage of displaying two variables at the same time. However, it might be difficult to compare the heights because the areas are not the same, and the color might cause visual interferance with the other visual variables.</p></li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/filtres.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Filter</figcaption><p></p>
</figure>
</div></li>
</ol>
</section>
</section>
<section id="exercise-6" class="level2">
<h2 class="anchored" data-anchor-id="exercise-6">Exercise 6</h2>
<ol type="1">
<li>Download the corresponding table and import it into Kepler.</li>
<li>Use arcs to represent trips. You have to select the origin and destination coordinates.</li>
<li>Use the color of the arcs to represent the total number of trips.</li>
<li>Use the size of the arcs to represent the total number of trips. Which one of these two representations seems more appropriate ?</li>
<li>Use lines instead of arcs. What pros and cons do you see in this representations compared to the 3D representation ?</li>
<li>Find the option to adjust the tooltips that are displayed when the user interacts with the flows and display only the information that interests us.</li>
</ol>
<section id="answers-3" class="level3">
<h3 class="anchored" data-anchor-id="answers-3">Answers</h3>
<ol start="3" type="1">
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/arcscouleurs.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Arcs’ color</figcaption><p></p>
</figure>
</div></li>
<li><p><img src="images/arcsepaisseur.png" class="img-fluid" width="500" alt="Arcs’ size"> It looks like distinguishing colors is easier than distinguishing lines width, and color is more efficient as a visuable variable than 3D volumes because of perspective.</p></li>
<li><p><img src="images/lignes.png" class="img-fluid" width="500" alt="Lines"> A 2D representation does not have perspective issues but there is more occlusion between lines.</p></li>
<li><div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="images/tooltip.png" class="img-fluid figure-img" width="500"></p>
<p></p><figcaption class="figure-caption">Tooltips</figcaption><p></p>
</figure>
</div></li>
</ol>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
</div> <!-- /content -->



</body></html>